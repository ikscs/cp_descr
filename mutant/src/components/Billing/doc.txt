2025-08-14

---


–ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å LiqPay –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ç–≤–æ–π React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 
–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã, –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã **LiqPay –∑–Ω–∞–ª, 
–∫—É–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å**.

–í LiqPay —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `result_url` (–∏ —á–∞—Å—Ç–æ –µ—â—ë `server_url` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –±—ç–∫–µ–Ω–¥–∞).

---

### –û–±—â–∞—è —Å—Ö–µ–º–∞

1. **–ù–∞ –±—ç–∫–µ–Ω–¥–µ** —Å–æ–∑–¥–∞—ë—à—å –∑–∞–∫–∞–∑ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—à—å —Å—Å—ã–ª–∫—É/—Ñ–æ—Ä–º—É LiqPay —Å:

   ```json
   {
     "amount": "100",
     "currency": "UAH",
     "description": "–û–ø–ª–∞—Ç–∞ –ø–æ—Å–ª—É–≥–∏",
     "order_id": "ORDER_ID_123",
     "result_url": "https://myapp.com/payment-success",
     "server_url": "https://api.myapp.com/payment-callback"
   }
   ```

   > `result_url` ‚Äî –∫—É–¥–∞ LiqPay –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã (—É—Å–ø–µ—Ö/–Ω–µ—É—Å–ø–µ—Ö).
   >
   > `server_url` ‚Äî –∫—É–¥–∞ LiqPay –æ—Ç–ø—Ä–∞–≤–∏—Ç POST —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –æ–ø–ª–∞—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏).

2. **–í React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏** –¥–µ–ª–∞–µ—à—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `/payment-success`.
   –í –Ω—ë–º –º–æ–∂–Ω–æ:

   * –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞¬ª.
   * –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL (—Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å `order_id`, `status`).
   * –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç—å API, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã.

---

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ë—ç–∫–µ–Ω–¥ (–ø—Ä–∏–º–µ—Ä –Ω–∞ Node.js)**

```js
// –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –æ–ø–ª–∞—Ç—ã
function getLiqPayLink(orderId, amount) {
  const data = {
    amount: amount,
    currency: "UAH",
    description: "–û–ø–ª–∞—Ç–∞ –ø–æ—Å–ª—É–≥–∏",
    order_id: orderId,
    result_url: "https://myapp.com/payment-success",
    server_url: "https://api.myapp.com/payment-callback"
  };
  return `https://www.liqpay.ua/api/3/checkout?data=${encode(data)}&signature=${sign(data)}`;
}
```

**React**

```tsx
const handlePay = async () => {
  const link = await api.getLiqPayLink(orderId, amount);
  window.location.href = link; // —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É
};
```

**React —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/payment-success`**

```tsx
import { useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";
import { Typography, CircularProgress } from "@mui/material";
import { api } from "./api";

export default function PaymentSuccess() {
  const [status, setStatus] = useState<string | null>(null);
  const [searchParams] = useSearchParams();
  const orderId = searchParams.get("order_id");

  useEffect(() => {
    if (orderId) {
      api.getOrderStatus(orderId).then(res => setStatus(res));
    }
  }, [orderId]);

  if (!status) return <CircularProgress />;

  return (
    <Typography variant="h5">
      {status === "paid" ? "‚úÖ –û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞!" : "‚ùå –û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ–π—à–ª–∞"}
    </Typography>
  );
}
```

---

üí° –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–∞—ë—Ç:

* –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±–µ–∑ —Ö–∞–∫–∞ —Å `window.open`.
* –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ (–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞–¥—ë–∂–µ–Ω).

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–≤–æ–π `OrderForm`, —á—Ç–æ–±—ã –æ–Ω —Å—Ä–∞–∑—É –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Å—Å—ã–ª–∫—É –Ω–∞ LiqPay —Å `result_url` –∏ –≤—ë–ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´–û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞¬ª.
–¢–µ–±–µ —Ç–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –≥–æ—Ä–æ–¥–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.

–•–æ—á–µ—à—å, —è —Å–¥–µ–ª–∞—é —Ç–∞–∫—É—é –≤–µ—Ä—Å–∏—é?
